<svg
  xmlns="http://www.w3.org/2000/svg"
  xmlns:xlink="http://www.w3.org/1999/xlink"
  version="1.1"
  viewBox="0 0 800 800"
  style="width:100%; height:100%">
  <defs>
    <rect id="largeRect"
          ry="3.699049"
          height="68.08"
          width="66.49"/>

    <g id="buildingLocation">
      <use xlink:href="#largeRect"/>
    </g>

    <g id="neutralBuildingLocation">
      <use xlink:href="#largeRect"/>
    </g>


    <rect id="smallLocation"
          rx="2.0045242"
          ry="2.2636971"
          height="41.66"
          width="36.80"/>

    <use id="hazardLocation" xlink:href="#smallLocation"/>
    <use id="teepeeLocation" xlink:href="#smallLocation"/>

    <path
      id="rancher"
      d="m 11.219139,1.8480133 8.619443,0.668173 1.336347,3.207234 3.808592,0.868625 1.00226,1.202713 -1.5368,3.7417747 -4.142677,0.400905 -0.467722,1.870884 c 0,0 6.681737,2.472243 5.946748,5.078122 -0.734991,2.605878 -1.804069,5.278572 -1.804069,5.278572 0,0 -0.868627,0.801809 -2.605879,1.737254 -1.737251,0.935442 -0.334086,0.133633 -0.334086,0.133633 l 1.670433,4.677217 c 0,0 2.939965,1.269532 3.140416,3.741774 -0.133633,-0.267268 0,0 0,0 l -1.135896,3.274052 -6.815372,-0.267271 c 0,0 -1.202712,-0.267269 -1.536798,-1.870885 -0.334087,-1.603618 -0.935445,-2.939965 -0.935445,-2.939965 0,0 -2.405425,-2.739514 -2.873148,0.133633 -0.233858,0.384201 0,0 0,0 l -1.670433,3.407688 c 0,0 -0.400905,1.135896 -1.4699834,1.069078 -1.069078,-0.06682 -6.681737,-0.467722 -6.681737,-0.467722 l 2.739512,-5.479024 1.336346,-0.133636 1.269532,-4.677216 c 0,0 -6.080381,-2.605879 -5.34539,-5.278573 0.734991,-2.672696 5.879928,-4.543583 5.879928,-4.543583 l -1.135893,-5.011304 -4.34313,-0.801807 c 0,0 -0.400905,-1.2695307 0.334086,-2.4722447 0.734992,-1.202711 1.870887,-2.672694 1.870887,-2.672694 l 3.407686,-0.334086 z"
      transform="scale(0.7,0.7)"/>

    <clipPath id="tileclip">
      <rect rx="6" ry="6" width="33" height="39"/>
    </clipPath>

    <clipPath id="buildingclip">
      <rect rx="8" ry="8" width="68.08" height="66.49"/>
    </clipPath>

    <g id="COWBOY">
      <image id="cowboy" href="/assets/cowboy.jpg" width="33" height="39" clip-path="url(#tileclip)"/>
      <rect height="39" width="33" rx="6" ry="6"/>
    </g>
    <g id="CRAFTSMAN">
      <image href="/assets/craftsman.jpg" width="33" height="39" clip-path="url(#tileclip)"/>
      <rect height="39" width="33" rx="6" ry="6"/>
    </g>
    <g id="ENGINEER">
      <image href="/assets/engineer.jpg" width="33" height="39" clip-path="url(#tileclip)"/>
      <rect height="39" width="33" rx="6" ry="6"/>
    </g>
    <g id="GREEN">
      <image href="/assets/teepee_green.jpg" width="33" height="39" clip-path="url(#tileclip)"/>
      <rect x="0" y="0" width="33" height="39" rx="6" ry="6"/>
    </g>
    <g id="BLUE">
      <image href="/assets/teepee_blue.jpg" width="33" height="39" clip-path="url(#tileclip)"/>
      <rect x="0" y="0" width="33" height="39" rx="6" ry="6"/>
    </g>
    <g id="FLOOD_BLACK">
      <image href="/assets/flood_black.jpg" width="33" height="39" clip-path="url(#tileclip)"/>
      <rect x="0" y="0" width="33" height="39" rx="6" ry="6"/>
    </g>
    <g id="FLOOD_GREEN">
      <image href="/assets/flood_green.jpg" width="33" height="39" clip-path="url(#tileclip)"/>
      <rect x="0" y="0" width="33" height="39" rx="6" ry="6"/>
    </g>
    <g id="DROUGHT_BLACK">
      <image href="/assets/drought_black.jpg" width="33" height="39" clip-path="url(#tileclip)"/>
      <rect x="0" y="0" width="33" height="39" rx="6" ry="6"/>
    </g>
    <g id="DROUGHT_GREEN">
      <image href="/assets/drought_green.jpg" width="33" height="39" clip-path="url(#tileclip)"/>
      <rect x="0" y="0" width="33" height="39" rx="6" ry="6"/>
    </g>
    <g id="ROCKFALL_BLACK">
      <image href="/assets/rockfall_black.jpg" width="33" height="39" clip-path="url(#tileclip)"/>
      <rect x="0" y="0" width="33" height="39" rx="6" ry="6"/>
    </g>
    <g id="ROCKFALL_GREEN">
      <image href="/assets/rockfall_green.jpg" width="33" height="39" clip-path="url(#tileclip)"/>
      <rect x="0" y="0" width="33" height="39" rx="6" ry="6"/>
    </g>
    <g id="GAIN_2_DOLLARS_POINT_FOR_EACH_WORKER">
      <image href="/assets/point_per_worker.jpg" width="33" height="39" clip-path="url(#tileclip)"/>
    </g>
    <g id="REMOVE_HAZARD_OR_TEEPEE_POINTS_FOR_EACH_2_OBJECTIVE_CARDS">
      <image href="/assets/points_per_2_objective_cards.jpg" width="33" height="39" clip-path="url(#tileclip)"/>
    </g>
    <g id="PERM_CERT_POINTS_FOR_EACH_2_HAZARDS">
      <image href="/assets/points_per_pair_hazards.jpg" width="33" height="39" clip-path="url(#tileclip)"/>
    </g>
    <g id="PERM_CERT_POINTS_FOR_TEEPEE_PAIRS">
      <image href="/assets/points_per_pair_teepees.jpg" width="33" height="39" clip-path="url(#tileclip)"/>
    </g>
    <g id="PERM_CERT_POINTS_FOR_EACH_2_CERTS">
      <image href="/assets/points_per_2_certs.jpg" width="33" height="39" clip-path="url(#tileclip)"/>
    </g>

    <clipPath id="tokenclip">
      <circle r="15" cx="15" cy="15"/>
    </clipPath>

    <g id="jobMarketToken">
      <image href="/assets/job_market_token.jpg" width="30" height="30" clip-path="url(#tokenclip)"/>
    </g>

    <g id="engine">
      <rect width="28" height="14" x="2" y="2"/>
    </g>
  </defs>
  <g>
    <image href="/assets/board.png" x="0" y="0" height="800" width="800"></image>

    <g id="foresights" transform="translate(20,194)" class="foresights" [ngClass]="{disabled:!canChooseForesights}">
      <g transform="translate(0,0)">
        <use [attr.xlink:href]="'#' + foresights[2][0].href"
             class="foresight" [ngClass]="{selected:isForesightSelected(2,0), otherSelected: isForesightSelected(2,1)}"
             (click)="selectForesight(0,2)"/>
        <text *ngIf="foresights[2][0].points" x="18" y="30" class="points">{{foresights[2][0].points}}</text>
      </g>
      <g transform="translate(34,0)">
        <use [attr.xlink:href]="'#' + foresights[1][0].href"
             class="foresight" [ngClass]="{selected:isForesightSelected(1,0), otherSelected: isForesightSelected(1,1)}"
             (click)="selectForesight(0,1)"/>
        <text *ngIf="foresights[1][0].points" x="18" y="30" class="points">{{foresights[1][0].points}}</text>
      </g>
      <g transform="translate(68,0)">
        <use [attr.xlink:href]="'#' + foresights[0][0].href"
             class="foresight" [ngClass]="{selected:isForesightSelected(0,0), otherSelected: isForesightSelected(0,1)}"
             (click)="selectForesight(0,0)"/>
        <text *ngIf="foresights[0][0].points" x="18" y="30" class="points">{{foresights[0][0].points}}</text>
      </g>

      <g transform="translate(0,40)">
        <use [attr.xlink:href]="'#' + foresights[2][1].href"
             class="foresight" [ngClass]="{selected:isForesightSelected(2,1), otherSelected: isForesightSelected(2,0)}"
             (click)="selectForesight(1,2)"/>
        <text *ngIf="foresights[2][1].points" x="18" y="30" class="points">{{foresights[2][1].points}}</text>
      </g>
      <g transform="translate(34,40)">
        <use [attr.xlink:href]="'#' + foresights[1][1].href"
             class="foresight" [ngClass]="{selected:isForesightSelected(1,1), otherSelected: isForesightSelected(1,0)}"
             (click)="selectForesight(1,1)"/>
        <text *ngIf="foresights[1][1].points" x="18" y="30" class="points">{{foresights[1][1].points}}</text>
      </g>
      <g transform="translate(68,40)">
        <use [attr.xlink:href]="'#' + foresights[0][1].href"
             class="foresight" [ngClass]="{selected:isForesightSelected(0,1), otherSelected: isForesightSelected(0,0)}"
             (click)="selectForesight(1,0)"/>
        <text *ngIf="foresights[0][1].points" x="18" y="30" class="points">{{foresights[0][1].points}}</text>
      </g>
    </g>

    <g id="cities" class="cities">
      <circle *ngFor="let color of state.railroadTrack.cities['KANSAS_CITY']; index as i"
              [class]="'disc ' + color"
              cx="147"
              [attr.cy]="17 - (i * 4)"
              r="11"/>

      <circle *ngFor="let color of state.railroadTrack.cities['TOPEKA']; index as i"
              [class]="'disc ' + color"
              cx="210"
              [attr.cy]="17 - (i * 4)"
              r="11"/>

      <circle *ngFor="let color of state.railroadTrack.cities['WICHITA']; index as i"
              [class]="'disc ' + color"
              cx="305"
              [attr.cy]="17 - (i * 4)"
              r="11"/>

      <circle *ngFor="let color of state.railroadTrack.cities['COLORADO_SPRINGS']; index as i"
              [class]="'disc ' + color"
              cx="368"
              [attr.cy]="17 - (i * 4)"
              r="11"/>

      <circle *ngFor="let color of state.railroadTrack.cities['SANTA_FE']; index as i"
              [class]="'disc ' + color"
              cx="431"
              [attr.cy]="17 - (i * 4)"
              r="11"/>

      <circle *ngFor="let color of state.railroadTrack.cities['ALBUQUERQUE']; index as i"
              [class]="'disc ' + color"
              cx="495"
              [attr.cy]="17 - (i * 4)"
              r="11"/>

      <circle *ngFor="let color of state.railroadTrack.cities['EL_PASO']; index as i"
              [class]="'disc ' + color"
              cx="558"
              [attr.cy]="17 - (i * 4)"
              r="11"/>

      <circle *ngFor="let color of state.railroadTrack.cities['SAN_DIEGO']; index as i"
              [class]="'disc ' + color"
              cx="621"
              [attr.cy]="17 - (i * 4)"
              r="11"/>

      <circle *ngFor="let color of state.railroadTrack.cities['SACRAMENTO']; index as i"
              [class]="'disc ' + color"
              cx="684"
              [attr.cy]="17 - (i * 4)"
              r="11"/>

      <!-- SAN_FRANCISCO -->
      <circle *ngFor="let color of state.railroadTrack.cities['SAN_FRANCISCO']; index as i"
              [class]="'disc ' + color"
              cx="748"
              [attr.cy]="17 - (i * 4)"
              r="11"/>

      <!-- Station 0 -->
      <circle *ngFor="let color of state.railroadTrack.stations[0].players; index as i"
              [class]="'disc ' + color"
              cx="322"
              [attr.cy]="110 - (i * 4)"
              r="11"/>

      <!-- Station 1 -->
      <circle *ngFor="let color of state.railroadTrack.stations[1].players; index as i"
              [class]="'disc ' + color"
              cx="416"
              [attr.cy]="110 - (i * 4)"
              r="11"/>

      <!-- Station 2 -->
      <circle *ngFor="let color of state.railroadTrack.stations[2].players; index as i"
              [class]="'disc ' + color"
              cx="510"
              [attr.cy]="110 - (i * 4)"
              r="11"/>

      <!-- Station 3 -->
      <circle *ngFor="let color of state.railroadTrack.stations[3].players; index as i"
              [class]="'disc ' + color"
              cx="606"
              [attr.cy]="110 - (i * 4)"
              r="11"/>

      <!-- Station 4 -->
      <circle *ngFor="let color of state.railroadTrack.stations[4].players; index as i"
              [class]="'disc ' + color"
              cx="701"
              [attr.cy]="110 - (i * 4)"
              r="11"/>

      <!-- Station 5 -->
      <circle *ngFor="let color of state.railroadTrack.stations[5].players; index as i"
              [class]="'disc ' + color"
              cx="739"
              [attr.cy]="144 - (i * 4)"
              r="11"/>

      <!-- Station 6 -->
      <circle *ngFor="let color of state.railroadTrack.stations[6].players; index as i"
              [class]="'disc ' + color"
              cx="739"
              [attr.cy]="266 - (i * 4)"
              r="11"/>

      <!-- Station 7 -->
      <circle *ngFor="let color of state.railroadTrack.stations[7].players; index as i"
              [class]="'disc ' + color"
              cx="739"
              [attr.cy]="390 - (i * 4)"
              r="11"/>

      <!-- Station 8 -->
      <circle *ngFor="let color of state.railroadTrack.stations[8].players; index as i"
              [class]="'disc ' + color"
              cx="739"
              [attr.cy]="514 - (i * 4)"
              r="11"/>

      <!-- Station 9 -->
      <circle *ngFor="let color of state.railroadTrack.stations[9].players; index as i"
              [class]="'disc ' + color"
              cx="762"
              [attr.cy]="715 - (i * 4)"
              r="11"/>

      <rect id="city-KANSAS_CITY"
            class="city"
            x="121"
            y="0"
            rx="2"
            ry="2"
            height="50"
            width="52"
            (click)="selectCity('KANSAS_CITY')" [ngClass]="{disabled:!canSelectCity('KANSAS_CITY')}"/>
      <rect id="city-TOPEKA"
            class="city"
            x="184"
            y="0"
            rx="2"
            ry="2"
            height="50"
            width="52"
            (click)="selectCity('TOPEKA')" [ngClass]="{disabled:!canSelectCity('TOPEKA')}"/>
      <rect id="city-WICHITA"
            class="city"
            x="279"
            y="0"
            rx="2"
            ry="2"
            height="50"
            width="52"
            (click)="selectCity('WICHITA')" [ngClass]="{disabled:!canSelectCity('WICHITA')}"/>
      <rect id="city-COLORADO_SPRINGS"
            class="city"
            x="343"
            y="0"
            rx="2"
            ry="2"
            height="50"
            width="52"
            (click)="selectCity('COLORADO_SPRINGS')" [ngClass]="{disabled:!canSelectCity('COLORADO_SPRINGS')}"/>
      <rect id="city-SANTA_FE"
            class="city"
            x="406"
            y="0"
            rx="2"
            ry="2"
            height="50"
            width="52"
            (click)="selectCity('SANTA_FE')" [ngClass]="{disabled:!canSelectCity('SANTA_FE')}"/>
      <rect id="city-ALBUQUERQUE"
            class="city"
            x="469"
            y="0"
            rx="2"
            ry="2"
            height="50"
            width="52"
            (click)="selectCity('ALBUQUERQUE')" [ngClass]="{disabled:!canSelectCity('ALBUQUERQUE')}"/>
      <rect id="city-EL_PASO"
            class="city"
            x="532"
            y="0"
            rx="2"
            ry="2"
            height="50"
            width="52"
            (click)="selectCity('EL_PASO')" [ngClass]="{disabled:!canSelectCity('EL_PASO')}"/>
      <rect id="city-SAN_DIEGO"
            class="city"
            x="595"
            y="0"
            rx="2"
            ry="2"
            height="50"
            width="52"
            (click)="selectCity('SAN_DIEGO')" [ngClass]="{disabled:!canSelectCity('SAN_DIEGO')}"/>
      <rect id="city-SACRAMENTO"
            class="city"
            x="659"
            y="0"
            rx="2"
            ry="2"
            height="50"
            width="52"
            (click)="selectCity('SACRAMENTO')" [ngClass]="{disabled:!canSelectCity('SACRAMENTO')}"/>
      <rect id="city-SAN_FRANCISCO"
            class="city"
            x="722"
            y="0"
            rx="2"
            ry="2"
            height="50"
            width="52"
            (click)="selectCity('SAN_FRANCISCO')" [ngClass]="{disabled:!canSelectCity('SAN_FRANCISCO')}"/>
    </g>

    <g id="railroad-track" class="railroad-track">
      <use *ngIf="state.railroadTrack.stations[0].stationMaster"
           [attr.xlink:href]="'#' + state.railroadTrack.stations[0].stationMaster"
           [attr.x]="271"
           [attr.y]="86"/>
      <use *ngIf="state.railroadTrack.stations[0].worker"
           [attr.xlink:href]="'#' + state.railroadTrack.stations[0].worker" class="worker disabled"
           [attr.x]="271"
           [attr.y]="86"/>

      <use *ngIf="state.railroadTrack.stations[1].stationMaster"
           [attr.xlink:href]="'#' + state.railroadTrack.stations[1].stationMaster"
           [attr.x]="365.5"
           [attr.y]="86"/>
      <use *ngIf="state.railroadTrack.stations[1].worker"
           [attr.xlink:href]="'#' + state.railroadTrack.stations[1].worker" class="worker disabled"
           [attr.x]="365.5"
           [attr.y]="86"/>

      <use *ngIf="state.railroadTrack.stations[2].stationMaster"
           [attr.xlink:href]="'#' + state.railroadTrack.stations[2].stationMaster"
           [attr.x]="460"
           [attr.y]="86"/>
      <use *ngIf="state.railroadTrack.stations[2].worker"
           [attr.xlink:href]="'#' + state.railroadTrack.stations[2].worker" class="worker disabled"
           [attr.x]="460"
           [attr.y]="86"/>

      <use *ngIf="state.railroadTrack.stations[3].stationMaster"
           [attr.xlink:href]="'#' + state.railroadTrack.stations[3].stationMaster"
           [attr.x]="555"
           [attr.y]="86"/>
      <use *ngIf="state.railroadTrack.stations[3].worker"
           [attr.xlink:href]="'#' + state.railroadTrack.stations[3].worker" class="worker disabled"
           [attr.x]="555"
           [attr.y]="86"/>

      <use *ngIf="state.railroadTrack.stations[4].stationMaster"
           [attr.xlink:href]="'#' + state.railroadTrack.stations[4].stationMaster"
           [attr.x]="650"
           [attr.y]="86"/>
      <use *ngIf="state.railroadTrack.stations[4].worker"
           [attr.xlink:href]="'#' + state.railroadTrack.stations[4].worker" class="worker disabled"
           [attr.x]="650"
           [attr.y]="86"/>

      <g *ngFor="let space of spaces"
         [attr.transform]="'translate(' + space.x + ',' + space.y + ') ' + space.transform">

        <use *ngFor="let color of getPlayersAt(space.space); index as i"
             xlink:href="#engine"
             [attr.class]="'engine ' + color"
             [attr.y]="i * 14"/>

        <rect [attr.height]="space.height"
              [attr.width]="space.width"
              class="space"
              [ngClass]="{disabled:!canSelectSpace(space.space), selected:isSpaceSelected(space.space)}"
              (click)="selectSpace(space.space)"/>
      </g>

      <g *ngFor="let station of state.railroadTrack.stations; index as i" class="station"
         [attr.transform]="'translate(' + (i < 5 ? (305 + (i * 95)) : (i < 9 ? 722 : 745)) + ',' + (i < 5 ? 95 : (i < 9 ? (127 + ((i-5)*124)) : 700)) + ')'"
         (click)="selectStation(i)"
         [ngClass]="{disabled:!canSelectStation(i)}">
        <rect width="33" height="33" rx="6" ry="6"/>
      </g>
    </g>

    <g class="job-market">
      <g *ngFor="let row of state.jobMarket.rows; index as rowIndex">
        <use *ngFor="let worker of row.workers; index as columnIndex" [attr.xlink:href]="'#' + worker"
             class="worker" [ngClass]="{disabled:!canSelectWorker(rowIndex)}"
             [attr.x]="9 + ((4-Math.max(state.jobMarket.rowLimit, row.workers.length)) * 33) + (columnIndex * 33)"
             [attr.y]="316 + (rowIndex * 39)"
             (click)="selectWorker(rowIndex, worker)"/>
      </g>

      <use xlink:href="#jobMarketToken" x="110" [attr.y]="319 + (state.jobMarket.currentRowIndex * 39)"/>
    </g>

    <g #neutralBuildings transform="translate(130,-133)" class="buildings">
      <g #A>
        <image href="/assets/a.png" width="68.058" height="66.48" clip-path="url(#buildingclip)"/>
      </g>
      <g #B>
        <image href="/assets/b.png" width="68.058" height="66.48" clip-path="url(#buildingclip)"/>
      </g>
      <g #C>
        <image href="/assets/c.png" width="68.058" height="66.48" clip-path="url(#buildingclip)"/>
      </g>
      <g #D>
        <image href="/assets/d.jpg" width="68.058" height="66.48" clip-path="url(#buildingclip)"/>
      </g>
      <g #E>
        <image href="/assets/e.png" width="68.058" height="66.48" clip-path="url(#buildingclip)"/>
      </g>
      <g #F>
        <image href="/assets/f.png" width="68.058" height="66.48" clip-path="url(#buildingclip)"/>
      </g>
      <g #G>
        <image href="/assets/g.png" width="68.058" height="66.48" clip-path="url(#buildingclip)"/>
      </g>
    </g>

    <g id="playerBuildings" transform="translate(130,-133)">
      <image *ngFor="let playerBuilding of playerBuildings"
             width="68.058" height="66.48"
             [attr.x]="playerBuilding.x"
             [attr.y]="playerBuilding.y"
             [attr.href]="'/assets/buildings/' + playerBuilding.building.name + '_' + playerBuilding.building.player.color.toString().toLowerCase() + '.jpg'"/>
    </g>

    <g id="hazards" transform="translate(130,-133)" class="hazards">
      <g *ngFor="let hazard of hazards" class="hazard"
         [ngClass]="{disabled:!canSelectHazard}"
         [attr.transform]="'translate(' + hazard.x + ',' + hazard.y + ')'">
        <use [attr.xlink:href]="'#' + hazard.hazard.type + '_' + hazard.hazard.hands"
             (click)="selectHazard(hazard.hazard)"/>
        <text x="18" y="30" class="points">{{hazard.hazard.points}}</text>
      </g>
    </g>

    <g #locations transform="translate(130,-133)" class="locations">
      <rect id="KANSAS_CITY"
            class="location"
            x="00.69"
            y="260.80"
            rx="2"
            ry="2"
            height="30"
            width="42"
            [ngClass]="{disabled:!canSelectLocation('KANSAS_CITY')}"
            (click)="selectLocation('KANSAS_CITY')"/>

      <rect id="START"
            class="location"
            x="626"
            y="875"
            height="30"
            width="44"
            [ngClass]="{disabled:!canSelectLocation('START')}"
            (click)="selectLocation('START')"/>

      <g class="hazardLocations" #hazardLocations>
        <use xlink:href="#hazardLocation" class="location hazard" y="833.6133355" x="358.7880323" id="FLOOD-4"
             (click)="selectLocation('FLOOD-4')" [ngClass]="{disabled:!canSelectLocation('FLOOD-4')}"/>
        <use xlink:href="#hazardLocation" class="location hazard" y="840.0237323" x="408.931151" id="FLOOD-3"
             (click)="selectLocation('FLOOD-3')" [ngClass]="{disabled:!canSelectLocation('FLOOD-3')}"/>
        <use xlink:href="#hazardLocation" class="location hazard" y="839.6482039" x="460.3764905" id="FLOOD-2"
             (click)="selectLocation('FLOOD-2')" [ngClass]="{disabled:!canSelectLocation('FLOOD-2')}"/>
        <use xlink:href="#hazardLocation" class="location hazard" y="844.154348" x="511.4463578" id="FLOOD-1"
             (click)="selectLocation('FLOOD-1')" [ngClass]="{disabled:!canSelectLocation('FLOOD-1')}"/>
        <use xlink:href="#hazardLocation" class="location hazard" y="751.4024862" x="60.07891838" id="DROUGHT-1"
             (click)="selectLocation('DROUGHT-1')" [ngClass]="{disabled:!canSelectLocation('DROUGHT-1')}"/>
        <use xlink:href="#hazardLocation" class="location hazard" y="693.1979165" x="54.82173996" id="DROUGHT-2"
             (click)="selectLocation('DROUGHT-2')" [ngClass]="{disabled:!canSelectLocation('DROUGHT-2')}"/>
        <use xlink:href="#hazardLocation" class="location hazard" y="637.2463205" x="63.45855315" id="DROUGHT-3"
             (click)="selectLocation('DROUGHT-3')" [ngClass]="{disabled:!canSelectLocation('DROUGHT-3')}"/>
        <use xlink:href="#hazardLocation" class="location hazard" y="581.6703091" x="67.58920257" id="DROUGHT-4"
             (click)="selectLocation('DROUGHT-4')" [ngClass]="{disabled:!canSelectLocation('DROUGHT-4')}"/>
        <use xlink:href="#hazardLocation" class="location hazard" y="417.9463335" x="534.352691" id="ROCKFALL-1"
             (click)="selectLocation('ROCKFALL-1')" [ngClass]="{disabled:!canSelectLocation('ROCKFALL-1')}"/>
        <use xlink:href="#hazardLocation" class="location hazard" y="365.7499091" x="540.3609206" id="ROCKFALL-2"
             (click)="selectLocation('ROCKFALL-2')" [ngClass]="{disabled:!canSelectLocation('ROCKFALL-2')}"/>
        <use xlink:href="#hazardLocation" class="location hazard" y="313.5535409" x="539.2343916" id="ROCKFALL-3"
             (click)="selectLocation('ROCKFALL-3')" [ngClass]="{disabled:!canSelectLocation('ROCKFALL-3')}"/>
        <use xlink:href="#hazardLocation" class="location hazard" y="265.94122686" x="505.4014015" id="ROCKFALL-4"
             (click)="selectLocation('ROCKFALL-4')" [ngClass]="{disabled:!canSelectLocation('ROCKFALL-4')}"/>
      </g>

      <g class="teepeeLocations" #teepeeLocations>
        <use class="teepee" *ngIf="state.trail.teepeeLocations['TEEPEE-1'].teepee"
             [attr.xlink:href]="'#' + state.trail.teepeeLocations['TEEPEE-1'].teepee" y="665.6374365" x="235.67607971"
             (click)="selectTeepee(1)" [ngClass]="{disabled:!canSelectTeepee}"/>
        <use xlink:href="#teepeeLocation" class="location teepee" y="665.6374365" x="235.67607971" id="TEEPEE-1"
             (click)="selectLocation('TEEPEE-1')" [ngClass]="{disabled:!canSelectLocation('TEEPEE-1')}"/>

        <use class="teepee" *ngIf="state.trail.teepeeLocations['TEEPEE-2'].teepee"
             [attr.xlink:href]="'#' + state.trail.teepeeLocations['TEEPEE-2'].teepee" y="671.4180561" x="277.50137016"
             (click)="selectTeepee(2)" [ngClass]="{disabled:!canSelectTeepee}"/>
        <use xlink:href="#teepeeLocation" class="location teepee" y="671.4180561" x="277.50137016" id="TEEPEE-2"
             (click)="selectLocation('TEEPEE-2')" [ngClass]="{disabled:!canSelectLocation('TEEPEE-2')}"/>

        <use class="teepee" *ngIf="state.trail.teepeeLocations['TEEPEE-4'].teepee"
             [attr.xlink:href]="'#' + state.trail.teepeeLocations['TEEPEE-4'].teepee" y="680.8059289" x="321.4364901"
             (click)="selectTeepee(4)" [ngClass]="{disabled:!canSelectTeepee}"/>
        <use xlink:href="#teepeeLocation" class="location teepee" y="680.8059289" x="321.4364901" id="TEEPEE-4"
             (click)="selectLocation('TEEPEE-4')" [ngClass]="{disabled:!canSelectLocation('TEEPEE-4')}"/>

        <use class="teepee" *ngIf="state.trail.teepeeLocations['TEEPEE-6'].teepee"
             [attr.xlink:href]="'#' + state.trail.teepeeLocations['TEEPEE-6'].teepee" y="683.7798081" x="364.1911178"
             (click)="selectTeepee(6)" [ngClass]="{disabled:!canSelectTeepee}"/>
        <use xlink:href="#teepeeLocation" class="location teepee" y="683.7798081" x="364.1911178" id="TEEPEE-6"
             (click)="selectLocation('TEEPEE-6')" [ngClass]="{disabled:!canSelectLocation('TEEPEE-6')}"/>

        <use class="teepee" *ngIf="state.trail.teepeeLocations['TEEPEE-8'].teepee"
             [attr.xlink:href]="'#' + state.trail.teepeeLocations['TEEPEE-8'].teepee" y="686.7536873" x="405.4587778"
             (click)="selectTeepee(8)" [ngClass]="{disabled:!canSelectTeepee}"/>
        <use xlink:href="#teepeeLocation" class="location teepee" y="686.7536873" x="405.4587778" id="TEEPEE-8"
             (click)="selectLocation('TEEPEE-8')" [ngClass]="{disabled:!canSelectLocation('TEEPEE-8')}"/>

        <use class="teepee" *ngIf="state.trail.teepeeLocations['TEEPEE-10'].teepee"
             [attr.xlink:href]="'#' + state.trail.teepeeLocations['TEEPEE-10'].teepee" y="683.77978" x="448.2134055"
             (click)="selectTeepee(10)" [ngClass]="{disabled:!canSelectTeepee}"/>
        <use xlink:href="#teepeeLocation" class="location teepee" y="683.77978" x="448.2134055" id="TEEPEE-10"
             (click)="selectLocation('TEEPEE-10')" [ngClass]="{disabled:!canSelectLocation('TEEPEE-10')}"/>

        <use class="teepee" *ngIf="state.trail.teepeeLocations['TEEPEE--1'].teepee"
             [attr.xlink:href]="'#' + state.trail.teepeeLocations['TEEPEE--1'].teepee" y="621.0992737" x="352.2437003"
             (click)="selectTeepee(-1)" [ngClass]="{disabled:!canSelectTeepee}"/>

        <use class="teepee" *ngIf="state.trail.teepeeLocations['TEEPEE--2'].teepee"
             [attr.xlink:href]="'#' + state.trail.teepeeLocations['TEEPEE--2'].teepee" y="616.953484" x="395.8186232"
             (click)="selectTeepee(-2)" [ngClass]="{disabled:!canSelectTeepee}"/>

        <use class="teepee" *ngIf="state.trail.teepeeLocations['TEEPEE--3'].teepee"
             [attr.xlink:href]="'#' + state.trail.teepeeLocations['TEEPEE--3'].teepee" y="613.9796048" x="438.5730261"
             (click)="selectTeepee(-3)" [ngClass]="{disabled:!canSelectTeepee}"/>
      </g>

      <g class="buildingLocations" #buildingLocations>
        <use xlink:href="#buildingLocation" class="location building" y="809.0254702" x="188.73680282" id="FLOOD-RISK-2"
             (click)="selectLocation('FLOOD-RISK-2')" [ngClass]="{disabled:!canSelectLocation('FLOOD-RISK-2')}"/>
        <use xlink:href="#buildingLocation" class="location building" y="811.6807797" x="271.05055994" id="FLOOD-RISK-1"
             (click)="selectLocation('FLOOD-RISK-1')" [ngClass]="{disabled:!canSelectLocation('FLOOD-RISK-1')}"/>
        <use xlink:href="#buildingLocation" class="location building" y="747.4228799" x="406.4700125" id="A-1"
             (click)="selectLocation('A-1')" [ngClass]="{disabled:!canSelectLocation('A-1')}"/>
        <use xlink:href="#buildingLocation" class="location building" y="737.3328443" x="317.2525125" id="A-2"
             (click)="selectLocation('A-2')" [ngClass]="{disabled:!canSelectLocation('A-2')}"/>
        <use xlink:href="#buildingLocation" class="location building" y="727.2427244" x="226.97290837" id="A-3"
             (click)="selectLocation('A-3')" [ngClass]="{disabled:!canSelectLocation('A-3')}"/>
        <use xlink:href="#buildingLocation" class="location building" y="706.0005013" x="119.16841328" id="B-1"
             (click)="selectLocation('B-1')" [ngClass]="{disabled:!canSelectLocation('B-1')}"/>
        <use xlink:href="#buildingLocation" class="location building" y="622.624626" x="135.10008763" id="B-2"
             (click)="selectLocation('B-2')" [ngClass]="{disabled:!canSelectLocation('B-2')}"/>
        <use xlink:href="#buildingLocation" class="location building" y="548.2767187" x="183.95728225" id="B-3"
             (click)="selectLocation('B-3')" [ngClass]="{disabled:!canSelectLocation('B-3')}"/>
        <use xlink:href="#buildingLocation" class="location building" y="500.4816535" x="69.24906395"
             id="DROUGHT-RISK-1" (click)="selectLocation('DROUGHT-RISK-1')"
             [ngClass]="{disabled:!canSelectLocation('DROUGHT-RISK-1')}"/>
        <use xlink:href="#buildingLocation" class="location building" y="641.7426577" x="499.9359515"
             id="INDIAN-TRADE-RISK-1" (click)="selectLocation('INDIAN-TRADE-RISK-1')"
             [ngClass]="{disabled:!canSelectLocation('INDIAN-TRADE-RISK-1')}"/>
        <use xlink:href="#buildingLocation" class="location building" y="564.7382326" x="499.9359515"
             id="INDIAN-TRADE-RISK-2" (click)="selectLocation('INDIAN-TRADE-RISK-2')"
             [ngClass]="{disabled:!canSelectLocation('INDIAN-TRADE-RISK-2')}"/>
        <use xlink:href="#buildingLocation" class="location building" y="444.720716" x="314.5971749" id="C-1-1"
             (click)="selectLocation('C-1-1')" [ngClass]="{disabled:!canSelectLocation('C-1-1')}"/>
        <use xlink:href="#buildingLocation" class="location building" y="437.8169675" x="402.2215173" id="C-1-2"
             (click)="selectLocation('C-1-2')" [ngClass]="{disabled:!canSelectLocation('C-1-2')}"/>
        <use xlink:href="#buildingLocation" class="location building" y="533.4071822" x="313.0040454" id="C-2"
             (click)="selectLocation('C-2')" [ngClass]="{disabled:!canSelectLocation('C-2')}"/>
        <use xlink:href="#buildingLocation" class="location building" y="360.8137507" x="428.7743875" id="E-1"
             (click)="selectLocation('E-1')" [ngClass]="{disabled:!canSelectLocation('E-1')}"/>
        <use xlink:href="#buildingLocation" class="location building" y="359.751655" x="330.5289195" id="E-2"
             (click)="selectLocation('E-2')" [ngClass]="{disabled:!canSelectLocation('E-2')}"/>
        <use xlink:href="#buildingLocation" class="location building" y="380.4628443" x="216.35171252" id="F-2"
             (click)="selectLocation('F-2')" [ngClass]="{disabled:!canSelectLocation('F-2')}"/>
        <use xlink:href="#buildingLocation" class="location building" y="271.59625913" x="417.6222" id="ROCKFALL-RISK-1"
             (click)="selectLocation('ROCKFALL-RISK-1')" [ngClass]="{disabled:!canSelectLocation('ROCKFALL-RISK-1')}"/>
        <use xlink:href="#buildingLocation" class="location building" y="269.47201434" x="328.9357338"
             id="ROCKFALL-RISK-2" (click)="selectLocation('ROCKFALL-RISK-2')"
             [ngClass]="{disabled:!canSelectLocation('ROCKFALL-RISK-2')}"/>
        <use xlink:href="#buildingLocation" class="location building" y="282.7484382" x="157.93550767" id="F-1"
             (click)="selectLocation('F-1')" [ngClass]="{disabled:!canSelectLocation('F-1')}"/>
        <use xlink:href="#buildingLocation" class="location building" y="268.40990459" x="60.22112124" id="G-2"
             (click)="selectLocation('G-2')" [ngClass]="{disabled:!canSelectLocation('G-2')}"/>
        <use xlink:href="#buildingLocation" class="location building" y="346.4752199" x="28.88877824" id="G-1"
             (click)="selectLocation('G-1')" [ngClass]="{disabled:!canSelectLocation('G-1')}"/>
        <use xlink:href="#neutralBuildingLocation" class="location building neutral"
             x="498.19"
             y="755.45"
             id="A" (click)="selectLocation('A')" [ngClass]="{disabled:!canSelectLocation('A')}"/>
        <use xlink:href="#neutralBuildingLocation" class="location building neutral"
             x="96.13"
             y="808.49"
             id="B" (click)="selectLocation('B')" [ngClass]="{disabled:!canSelectLocation('B')}"/>
        <use xlink:href="#neutralBuildingLocation" class="location building neutral"
             x="224.84"
             y="467.64"
             id="C" (click)="selectLocation('C')" [ngClass]="{disabled:!canSelectLocation('C')}"/>
        <use xlink:href="#neutralBuildingLocation" class="location building neutral"
             x="400.62"
             y="520.10"
             id="D" (click)="selectLocation('D')" [ngClass]="{disabled:!canSelectLocation( 'D')}"/>
        <use xlink:href="#neutralBuildingLocation" class="location building neutral"
             x="496.22"
             y="474.98"
             id="E" (click)="selectLocation('E')" [ngClass]="{disabled:!canSelectLocation('E')}"/>
        <use xlink:href="#neutralBuildingLocation" class="location building neutral"
             x="242.904"
             y="296.001"
             id="F" (click)="selectLocation('F')" [ngClass]="{disabled:!canSelectLocation('F')}"/>
        <use xlink:href="#neutralBuildingLocation" class="location building neutral"
             x="119.69"
             y="377.80"
             id="G" (click)="selectLocation('G')" [ngClass]="{disabled:!canSelectLocation('G')}"/>
      </g>

      <g class="ranchers">
        <use xlink:href="#rancher" ref-red="" class="red"></use>
        <use xlink:href="#rancher" ref-blue="" class="blue"></use>
        <use xlink:href="#rancher" ref-yellow="" class="yellow"></use>
        <use xlink:href="#rancher" ref-white="" class="white"></use>
      </g>

      <g class="possible-moves">
        <g *ngFor="let possibleMove of possibleMoveElements; index as i" class="possible-move"
           (click)="selectPossibleMove(possibleMove.possibleMove)">
          <ng-template #popoverContent>
            {{'gwt.routePopover'|translate:{cost: possibleMove.possibleMove.cost} }}
            <span *ngFor="let playerFee of possibleMove.possibleMove.playerFees">
              <span [class]="playerFee.player.color">{{table.players[playerFee.player.name].user?.username || 'computer'|translate}}</span>
              {{'gwt.playerFee'|translate: {fee: playerFee.fee} }}}
            </span>
          </ng-template>
          <line *ngFor="let line of possibleMove.lines"
                [attr.x1]="line.x1"
                [attr.y1]="line.y1"
                [attr.x2]="line.x2" [attr.y2]="line.y2"
                [attr.stroke]="possibleMove.color"
                stroke-width="10"
                stroke-linejoin="round"
                stroke-linecap="round"
                placement="top"
                triggers="mouseenter:mouseleave"
                container="body"
                [ngbPopover]="popoverContent" [popoverClass]="possibleMove.color"/>
        </g>
      </g>
    </g>
  </g>
</svg>
