<section class="container" *ngIf="user | async as user">
  <ul ngbNav #nav="ngbNav" class="nav-tabs">
    <li ngbNavItem>
      <a ngbNavLink>{{'profile.about'|translate}}</a>
      <ng-template ngbNavContent>
        <form>
          <div class="form-group">
            <label for="avatar">{{'profile.avatar'|translate}}</label>
            <div id="avatar">
              <app-avatar [user]="user"></app-avatar>
              You can upload and change your avatar on <a href="https://gravatar.com">Gravatar.com</a>.<br/>
              Just use the same e-mail address and it will appear automatically!
            </div>
          </div>

          <div class="form-group">
            <label for="username">{{'profile.username'|translate}}</label>
            <input type="text" class="form-control" id="username" name="username" [(ngModel)]="user.username" required
                   readonly>
          </div>

          <div class="form-group">
            <label for="email">{{'profile.email'|translate}}</label>
            <input type="text" class="form-control" id="email" name="email" [(ngModel)]="user.email" required readonly>
          </div>

          <div class="form-group">
            <label for="location">{{'profile.location'|translate}}</label>
            <app-location-selector id="location" [value]="user.location"
                                   (changeLocation)="changeLocation(user, $event)"></app-location-selector>
          </div>
        </form>
      </ng-template>
    </li>
    <li ngbNavItem>
      <a ngbNavLink>{{'profile.preferences'|translate}}</a>
      <ng-template ngbNavContent>
        <form>
          <div class="form-group">
            <label for="language">{{'profile.language'|translate}}</label>
            <app-language-selector id="language" [value]="user.language"
                                   (changeLanguage)="changeLanguage(user, $event)"></app-language-selector>
          </div>
        </form>
      </ng-template>
    </li>
  </ul>
  <div [ngbNavOutlet]="nav"></div>
</section>
