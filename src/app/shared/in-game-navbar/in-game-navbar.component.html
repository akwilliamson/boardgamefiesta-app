<nav class="navbar sticky-top navbar-expand-lg navbar-dark bg-primary justify-content-between">
  <ul class="navbar-nav">
    <li class="nav-item">
      <a class="btn btn-secondary" [routerLink]="['/']">{{'close'|translate}}</a>&nbsp;
    </li>
      <li class="nav-item">
        <a class="btn btn-danger text-light" *ngIf="table.turn" (click)="endTurn.emit()">{{'endTurn'|translate}}</a>&nbsp;
        <button class="btn btn-warning" *ngIf="canSkip"
                (click)="skip.emit()">{{'skip'|translate}}</button>&nbsp;
      </li>
  </ul>

  <ng-container *ngIf="state as state">
    <div *ngIf="!state.turn">
      {{'waitingFor'|translate}}
      <strong
        [class]="state.currentPlayer.color">{{table.players[state.currentPlayer.name].user?.username || 'computer'|translate}}</strong>
    </div>

    <div class="actions">
      <ng-container *ngIf="!selectedAction">
          <span *ngFor="let actionType of state.actions" [ngSwitch]="actionType">
              <button *ngSwitchDefault
                      class="btn btn-secondary" (click)="perform.emit(actionType)"
                      ngbPopover="{{'action.' + actionType | translate}}"
                      placement="bottom"
                      triggers="mouseenter:mouseleave"
                      container="body">{{actionType}}</button>
          </span>
      </ng-container>

      <ng-container *ngIf="selectedAction">
        {{'action.' + selectedAction | translate}}
        <button class="btn btn-secondary" *ngIf="state.actions.length > 1" (click)="cancel.emit()">{{'cancel'|translate}}</button>
      </ng-container>
    </div>

    <div class="form-inline">
          <span *ngIf="table.turn">
            {{'yourTurn'|translate}}

            <app-timer [end]="table.players[table.player].turnLimit"></app-timer>
          </span>
      &nbsp;
      <app-connection-status></app-connection-status>
    </div>
  </ng-container>
</nav>
