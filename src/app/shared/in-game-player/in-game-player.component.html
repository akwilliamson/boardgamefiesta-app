<!--
  ~ Board Game Fiesta
  ~ Copyright (C)  2021 Tom Wetjens <tomwetjens@gmail.com>
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU General Public License as published by
  ~ the Free Software Foundation, either version 3 of the License, or
  ~ (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU General Public License for more details.
  ~
  ~ You should have received a copy of the GNU General Public License
  ~ along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->

<div class="card">
  <div class="card-header">
    <div>
      <app-avatar *ngIf="player.user" [user]="player.user"></app-avatar>

      <app-player-name [player]="player"></app-player-name>

      <app-location-icon *ngIf="player.user?.location" [location]="player.user.location"></app-location-icon>
      &nbsp;
      <app-rating *ngIf="player.rating" [rating]="player.rating"></app-rating>

      <img src="/assets/hourglass.gif" class="hourglass" *ngIf="table.currentPlayer === player.id"
           ngbPopover="{{'popover.waitingForPlayer'|translate}}"
           triggers="mouseenter:mouseleave"
           container="body"/>

      <ng-template #scorePopover>
        <ng-content select="[score]"></ng-content>
      </ng-template>
      <span *ngIf="score !== undefined && score !== null" class="score"
           [ngbPopover]="scorePopover" [title]="'score'|translate"
           triggers="mouseenter:mouseleave hover click"
           container="body">
        {{score}}
      </span>
    </div>

    <ng-content select="header"></ng-content>
  </div>
  <div class="card-body">
    <ng-content select="main"></ng-content>
  </div>
</div>
